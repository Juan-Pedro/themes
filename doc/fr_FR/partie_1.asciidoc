:imagesdir: ../images

'''
==== Création

[role="col-md-12 text-justify"]
--
Pour appréhender le plugin nous allons développer dans cette partie la création d'un thème le plus simple possible, en utilisant le moins d'options possible. Pour commencer, nous allons définir la nature de notre projet :

* Nous adopterons le format Tablette horizontale (paramètres par défaut).
* La barre de menu sera située en 'Haut' (paramètres par défaut).
* Barre d'état apparente (paramètres par défaut).
* Les entrées de la barre de menu seront des Boutons (paramètres par défaut).
* Le design comportera 3 Pièces composé comme suis: RdC (Salon, Cuisine), Chambre.
* Mono-cadre (paramètres par défaut).
* On configura un style avec une bordure et une ombre pour un rendu visuel.

Nous allons commencer par créer un thème, cliquer sur image:ajout.png[role="img-thumbnail"] .Changeons le titre pour un message de bienvenue, remplacez dans le premier popover +Menu+ par +Bienvenue dans Notre Espace Domotique+. Le thème que nous désirons et pratiquement créer, ils nous restent plus qu'a configurer les <<ajoutedition,boutons>> et le <<popover_de_style,style>>. +
Cliquez sur image:popovemenu8.png[role="img-thumbnail"] et appuyez sur image:plus.png[role="img-thumbnail"] pour créer un nouveau bouton. +
--

[role="col-md-4"]
image:rdcbouton.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
Notre premier bouton est un sous-menu, entrez +RdC+ dans le champ *Nom* et cliquez sur *Sous-menu* pour affichez les sous-entrées, cliquez sur image:plus.png[role="img-thumbnail"] pour ajouter une autre sous-entrée, remplissez chaque entrée par +Salon+ et +Cuisine+ puis validez, notre premier bouton est créé.

[role="row"]
{nbsp} +

[role="col-md-4"]
image:chambrebouton.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
Le deuxième bouton est plus simple entrez +Chambre+ dans le champ *Nom* et validez. +

[role="row"]
{nbsp} +

[role="col-md-4"]
image:styledemo.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
--
Maintenant que nos boutons sont créés, nous allons appliquer un style pour un meilleur rendu visuel, ici chacun fait ce qu'il veut, pour notre démo j'ai choist les paramètres ainsi : +

* Bordure : *Taille*: +5+, *Rayon*: +5+, *Style*: +groove+, *Couleur*: +Bleu+
* Ombre : *Taille*: +10+, +10+, +10+, *Couleur*: +Bleu Clair+

Sauvegardez votre thème maintenant. +
--

[role="col-md-12"]
--
Voici le résultat: +

image::démo1.png[role="img-thumbnail"]
--

[role="row"]
{nbsp} +

'''
==== Design et Bootstrap

[role="col-md-4"]
image:designboot.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
--
Le but du plugin étant la création d'une structure pour le mode Design, nous allons aborder ici les deux boutons les plus importants du plugin. A cette étape de notre thème aucune page n'a encore été créée, le bouton image:bbootstrap.png[role="img-thumbnail"] est grisé, ce chapite va vous montrer comment les créer et comment injecter le code de la page principale. +
--

[role="row"]
{nbsp} +

'''
===== Design

[role="col-md-4"]
image:planoknook.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
--
Ce bouton va permettre de créer les pages du mode Design, la page principale au format du thème et les pages secondaires au format du cadre principal. A chaque fois que vous charger un thème le plugin vérifié que les pages sont créer, si toutes les pages existent le bouton sera grisé. On peut dégriser le bouton facilement il suffit de modifier la taille de la fenêtre principale. Le bouton est dégrisé aussi dés qu'on rajoute un bouton.
--

[role="col-md-12 text-justify"]
--
{nbsp} +
[icon="../images/important.png"]
[IMPORTANT]
Lors de la première utilisation, le plugin récupère les IDs des pages pour mettre à jour le thème, il faut absolument sauvegarder pour ne pas perdre les données.

[icon="../images/tip.png"]
[TIP]
Si le bouton est dégrisé c'est que des modifications ont été apportées au thème qui demande de mettre à jour les pages.
--

[role="col-md-4"]
image:designok.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
--
Voici le résultat du thème que nous développons: +
Vous pouvez constatez que le plugin crée une page supplémentaire, appelez +Général+ elle correspond à la page secondaire du bouton *home* qui est la page de présentation de votre mode Design. +
[label label-danger]#Important# *Pensez à sauvegarder votre projet.* +
--

[role="row"]
{nbsp} +

'''
===== Bootstrap

[role="col-md-4"]
image:bootstrapok.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
--
Arrivez à cette étape toutes les pages doivent être créées, ce bouton va permettre d'injecté le code dans la page principale pour pouvoir gérer tout votre Design, après toutes modifications il suffira de cliquez sur ce bouton pour mettre à jour la fenêtre principale. +
--

[role="col-md-12"]
[role="text-justify"]
--
{nbsp} +
[icon="../images/tip.png"]
[TIP]
Si la page de la fenêtre principale n'existe pas le bouton restera grisé, cliquez sur le bouton *Design* pour palier ce problème.
--

[role="row"]
{nbsp} +

'''
==== Gestion des Pages Secondaires

[role="col-md-4"]
image:secondaires.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
--
Le plugin devait s'arrêter à la création de la page principale, des pages secondaires et de l'injection du code Bootstrap sur la page principale, mais il est apparu important de pouvoir gérer les pages secondaires à partir du plugin pour pouvoir aussi en contrôler le fonctionnement. +
Les images qui serviront aux pages secondaires seront rajoutées avec le <<gestionnaire_d_8217_images,Gestionnaire d'images>>, pour notre thème elles seront au format de notre cadre principale et seront créés à l'aide du logiciel link:http://www.sweethome3d.com/fr/[SweetHome 3D] ou autres logiciels de votre choix.+
{nbsp} +
--

[role="col-md-12 text-justify"]
--
Ce chapitre à pour but de montrer comment configurer une page secondaire, Le bouton image:bajouter.png[role="img-thumbnail"] est grisé puisque nous sommes en configuration +mono-cadre+, la configuration +multi-cadres+ est identique sauf que vous pouvez créer autant de cadre que vous voulez. +
Nous nous occuperons d'abord des pièces, nous parlerons de la page *Général* par la suite puisque elle occupe un rôle à part. +
Pour la suite du projet, nous allons établir les différents modules dans chaque pièce :

* Salon: 1 capteur de présence, 1 lumière, 1 thermostat, Surveillance réseau
* cuisine: 1 capteur de présence, 1 lumière
* Chambre: 1 capteur de présence, 1 lumière, 1 thermostat
--

[role="row"]
{nbsp} +

'''
===== Les pièces

[role="col-md-4"]
image:popovercadre.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
--
Commençons par sélectionner +Salon+ dans le sélecteur *Pages* +
Si vous cliquez sur le cadre, un popover pour la configuration du cadre apparaît: +
 +
Changeons +Titre+ par +Salon+, et sélectionnons l'image téléchargée avec le sélecteur *Image*.Pour le fonctionnement complet de ce popover voir <<popover_des_cadres,Popover des Cadres>>
Il suffit de sauvegarder, et d'utiliser le bouton image:bbootstrap.png[role="img-thumbnail"] pour mettre à jour la page secondaire _Salon_ dans le mode Design, la dernière étape étant de placer les widgets dans le mode Design. Répetons ces étapes pour les deux autres pièces. +
--

[role="col-md-12 text-justify"]
--
{nbsp} +
[icon="../images/tip.png"]
[TIP]
Vous pouvez très bien injecter le code avec le bouton image:bbootstrap.png[role="img-thumbnail"] sans sauvegarder, pour faire des test ou autre.
--

[role="col-md-12 text-justify"]
--
{nbsp} +

Voici le résultat final: +

image::salondemo.jpg[role="img-thumbnail"]
image::cuisinedemo.jpg[role="img-thumbnail"]
image::chambredemo.jpg[role="img-thumbnail"]
{nbsp} +

A ce stade comme va vous le montrer la vidéo suivante votre Design est fonctionnel:
link:https://www.youtube.com/watch?v=6T9feK6wF1A&feature=youtu.be[Démo vidéo]
--

[role="row"]
{nbsp} +

'''
===== Page Home

[role="col-md-12 text-justify"]
--
Cette page va servir de page d'accueil pour notre mode Design, elle permettra soit de centraliser des informations soit tout simplement afficher une image de votre maison en 3D, elle reste libre à votre imagination. Dans notre cas nous allons mettre divers informations :

image::generaldemo.png[role="img-thumbnail"]
--

[role="row"]
{nbsp} +

'''
===== Les lignes SVG
[role="col-md-12 text-justify"]
--
Bien qu'à cette étape votre Design soit fonctionnel, il m'est apparu intéressant de fournir un système qui permettrait de localiser dans la pièce ou est votre widget (ou virtuel, etc...), et c'est tout naturellement que j'ai mis en place les *lignes SVG*. A partir du <<popover_des_cadres,Popover des Cadres>>, cliquez sur image:plusb.png[role="img-thumbnail"] une nouvelle *ligne SVG* va apparaître en haut à droite de votre cadre et un nouveau popover est disponible.
{nbsp} +
--

[role="col-md-4"]
image:popoversvg.png[role="img-thumbnail"]
[role="col-md-8 text-justify"]
--
Ce dernier popover va vous servir à déplacer la *ligne SVG* à l'endroit désiré, une ligne SVG est composée de quatre parties, un petit rectangle appelé +Début+, une ligne appelée +1er partie+, une ligne appelée +2eme partie+ et un dernier rectangle appelé +Fin+. +
Le D-Pad va servir à déplacer la ligne, le bouton central à valider, image:trash.png[role="img-thumbnail"] en haut à droite du popover permet d'effacer la ligne SVG. Il suffit de sélectionner les parties de la ligne SVG que l'on veut déplacer et d'utiliser le D-Pad. Le dernier sélecteur sert à changer la couleur de la ligne SVG, elles correspondent aux différentes catégories de *_Jeedom_*(TM). +
--

[role="col-md-12 text-justify"]
--
{nbsp} +
[icon="../images/tip.png"]
[TIP]
Appuyez sur touche +Shift+ en même temps multiplie le déplacement par 10.
--

[role="col-md-12"]
--
{nbsp} +

Voici ce que la donne dans la +Cuisine+

image::cuisinesvg.jpg[role="img-thumbnail"]
{nbsp} +

Il suffit de faire la même chose pour les autres pièces. +
--

[role="row"]
{nbsp} +

'''
==== Conclusion
[role="col-md-12 text-justify"]
--
Voila, votre thème et votre Design sont finalisés. Vous pouvez très bien le rajouter dans votre profil *_Jeedom_*(TM) pour y accéder directement. Les dernières modifications ont permis de rendre la page principale en lecture seule, et de pouvoir implémenter l'affichage automatique de la page 'Home'. Le plugin offre d'autres possibilités, le chapitre suivant va vous permettre de toutes les explorer. +
--

[role="col-md-12 text-justify"]
--
[icon="../images/tip.png"]
[TIP]
Il est possible de créer des profils 'invité', il suffit au niveau du profil *_Jeedom_*(TM) de pointer vers la pièce désirée au lieu de la page principale, ce qui permettra à l'invité d'accéder à toutes les fonctions de la pièce sans avoir accès à la barre de menu et aux autres pages secondaires.

{nbsp} +
--
